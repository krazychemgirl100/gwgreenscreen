



<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Clerance Badge</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.6.1/cerulean/bootstrap.min.css"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="style1.min.css" rel="stylesheet">
    <link href="style2.min.css" rel="stylesheet">
    <link href="style3.css" rel="stylesheet">
    
    <style>
        body {
            overflow:  hidden;
        }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body class="quarantineBadge">

<form action="#">
    <input name="__RequestVerificationToken" type="hidden" value="K7sEkTCSL345JXQdod4deJikn1JVF-wenREi_lblc9cXgegJjdS6jpeIYNMMcG2BQ3HLPrdJ5tqxuyageAb-UstzC5BkvJ2O_TCsBj3BAYA1" />
</form>

<div id="quarantineBadge" class="badge-Green">

    <div style="position: fixed; top: 0; right: 0; z-index: 9999;">
            <a href="index.html" class="exit btn btn-primary btn-sm"><i class="fa fa-close"></i></a>
    </div>

    <p>Clearance Status</p>
    <h1 style="margin-top: -20px; font-size: 2.75em;">Cleared</h1>
    <div id="now" style="font-size: 1.4em"></div>
    <div id="patInfo" class="row text-center" style="margin-top: 15px;">
            <div class="col-xs-12">
                <img id="patImage" src="https://mychc.gwu.edu/Resources/images/user.png" alt="Patient Image" style="max-width: 170px; margin-top: -15px;">
            </div>
        <div class="col-xs-12">
            <h3 id="badgename" class="mb-0" style="margin-top: 4px;">
                    <strong></strong>
            </h3>
        </div>
        <div class="col-xs-12">
            <span id="badgedob" class="ml-2"></span>
        </div>
        <div class="col-xs-12">
                <span id="gwid"></span>                
        </div>
    </div>
    <div id="badgeqr" class="mt-2">
        <img src="qr.png" alt="Code"/>
    
    </div>
                <div id="nextdue" style="font-size: 0.8em">Next Lab Test Due: 5/7/2022 11:00 PM</div>
                <div style="font-size: 0.8em">Compliant</div>
</div>

<script src="/wwwroot/lib/jquery/jquery.min.js"></script>
<script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/Resources/js/plugins/bootbox.min.js"></script>
<script>
    // setTimeout(function () {
    //     var modals = $('.modal');
    //     if (!modals.length) location.reload(); 
    // }, 1000 * 30);
function formatAMPM(date) {
  var hours = date.getHours();
  var minutes = date.getMinutes();
  var ampm = hours >= 12 ? 'pm' : 'am';
  hours = hours % 12;
  hours = hours ? hours : 12; // the hour '0' should be '12'
  minutes = minutes < 10 ? '0'+minutes : minutes;
  var strTime = hours + ':' + minutes + ' ' + ampm;
  return strTime;
}

Date.prototype.addDays = function(days) {
    var date = new Date(this.valueOf());
    date.setDate(date.getDate() + days);
    return date;
}

var d = new Date();

    var month = d.getMonth()+1;
    var day = d.getDate();
    var str = d.toLocaleDateString() + " " + formatAMPM (d);
    // console.log(str.toUpperCase())
   // var str = day + "/" + month + "/" + d.getFullYear() " "
   document.getElementById("now").innerText = str.toUpperCase();





var duedate = d.addDays(10)
var duestr = "Next Lab Test Due: " + duedate.toLocaleDateString() + " 11:00 PM"
   document.getElementById("nextdue").innerText = duestr;



const params = new Proxy(new URLSearchParams(window.location.search), {
  get: (searchParams, prop) => searchParams.get(prop),
});
// Get the value of "some_key" in eg "https://example.com/?some_key=some_value"
document.getElementById("badgename").innerText = params.name;
document.getElementById("badgedob").innerText = params.dob;
document.getElementById("gwid").innerText = "#" + params.gwid;




setInterval(function(){ 
    var d = new Date();

    var month = d.getMonth()+1;
    var day = d.getDate();
    var str = d.toLocaleDateString() + " " + formatAMPM (d);
    // console.log(str.toUpperCase())
   // var str = day + "/" + month + "/" + d.getFullYear() " "
   document.getElementById("now").innerText = str.toUpperCase();
}, 1000 * 10);

</script>
</body>
</html>




